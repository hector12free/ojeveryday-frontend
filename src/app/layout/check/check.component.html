<div [@routerTransition] class ="container-fluid">
    <div class="card shadow mb-4 mt-2">
        <div *ngFor="let problemInfo of problemInfos; index as j;">
            <div class="text-center">
                <h4 class="text-gray-900 mb-3 mt-3" *ngIf="j==0">今日题目：{{problemInfo.indexNum}}. {{problemInfo.name}}</h4>
                <h4 class="text-gray-900 mb-2 mt-3" *ngIf="j==1">LeetCode题目：{{problemInfo.indexNum}}. {{problemInfo.name}}</h4>
<!--                <h1 class="h4 text-gray-900 mb-2 mt-3">今日题目{{$index + 1}}：{{problemInfo.indexNum}}. {{problemInfo.name}}</h1>-->
            </div>
            <div class="text-left my-auto">
                <h6 class="text-gray-900 mt-2 ml-3">中文版力扣地址：<a href="{{problemInfo.cnUrl}}" target="_blank">{{problemInfo.cnUrl}}</a></h6>
            </div>
            <div class="text-left my-auto">
                <h6 class="text-gray-900 mb-3 ml-3">英文版leetcode地址：<a href="{{problemInfo.enUrl}}" target="_blank">{{problemInfo.enUrl}}</a></h6>
            </div>
        </div>
        <div class="text-left my-auto">
            <h5 class="text-gray-900 mb-3 ml-3">进每日一题交流群的朋友请加群主微信：fuxuemingzhu</h5>
        </div>
    </div>
    <div class="row">

        <!-- Earnings (Monthly) Card Example -->
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card border-left-primary shadow h-100 py-2">
                <div class="card-body">
                    <div class="row no-gutters align-items-center">
                        <div class="col mr-2">
                            <div class="text-xs font-weight-bold text-primary text-uppercase mb-1">日期
                            </div>
                            <div class="h5 mb-0 font-weight-bold text-gray-800">{{summaryInfo.date}}</div>
                        </div>
                        <div class="col-auto">
                            <i class="fas fa-calendar fa-2x text-gray-300"></i>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Earnings (Monthly) Card Example -->
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card border-left-success shadow h-100 py-2">
                <div class="card-body">
                    <div class="row no-gutters align-items-center">
                        <div class="col mr-2">
                            <div class="text-xs font-weight-bold text-success text-uppercase mb-1">统计人数
                            </div>
                            <div class="h5 mb-0 font-weight-bold text-gray-800">{{summaryInfo.totalUserCount}}</div>
                        </div>
                        <div class="col-auto">
                            <i class="fas fa-dollar-sign fa-2x text-gray-300"></i>

                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Earnings (Monthly) Card Example -->
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card border-left-info shadow h-100 py-2">
                <div class="card-body">
                    <div class="row no-gutters align-items-center">
                        <div class="col mr-2">
                            <div class="text-xs font-weight-bold text-info text-uppercase mb-1">打卡人数</div>
                            <div class="row no-gutters align-items-center">
                                <div class="col-auto">
                                    <div class="h5 mb-0 mr-3 font-weight-bold text-gray-800">
                                        {{summaryInfo.checkedCount}}
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="progress progress-sm mr-2">
                                        <div class="progress-bar bg-info" role="progressbar"
                                            ng-style="{width: summaryInfo.checkRatio}"
                                            aria-valuenow="50" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-auto">
                            <!--<i class="fas fa-clipboard-list fa-2x text-gray-300"></i>-->
                            <i class="fas fa-dollar-sign fa-2x text-gray-300"></i>

                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Pending Requests Card Example -->
        <div class="col-xl-3 col-md-6 mb-4">
            <div class="card border-left-warning shadow h-100 py-2">
                <div class="card-body">
                    <div class="row no-gutters align-items-center">
                        <div class="col mr-2">
                            <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">打卡率
                            </div>
                            <div class="h5 mb-0 font-weight-bold text-gray-800">{{summaryInfo.checkRatio}}</div>
                        </div>
                        <div class="col-auto">
                            <!--<i class="fas fa-comments fa-2x text-gray-300"></i>-->
                            <i class="fas fa-dollar-sign fa-2x text-gray-300"></i>

                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>



    <div class="card shadow mb-4">
        <div class="card-header py-3">
            <div class="row">
                <div class="col-sm-6"><h6 class="m-0 font-weight-bold text-primary">数据更新时间：{{lastUpdateTime}}</h6>
                </div>

            </div>


        </div>
        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                    <thead>
                    <th style="text-align: center">序号</th>
                    <th style="text-align: center">用户名</th>
                    <th style="text-align: center">头像</th>
                    <th style="text-align: center">查卡</th>
                    <!-- <th style="text-align: center">今日刷题</th> -->
                    <th style="text-align: center">打卡时间</th>
                    <th style="text-align: center">打卡天数</th>
                    <th style="text-align: center">点赞</th>
                    </thead>
                    <tbody>
                        <tr *ngFor="let participant of participants; index as i; first as isFirst">
                            <td style="text-align: center">{{i + 1}}</td>
                            <td style="text-align: center"><a href="{{participant.address}}" target="_blank">{{participant.username}} </a></td>
                            <td>
                                <a href="{{participant.address}}" target="_blank" [ngSwitch]="i">
                                    <div *ngSwitchCase="0" style=" width:60px; height: 60px; text-align: center; padding-top: 5px; margin: 0 auto; background: linear-gradient(#feea88,#d7a807); border-radius: 55px"><img width="50px" src={{participant.avatar}} style="margin: 0 auto;border-radius: 50%" alt="user avatar"></div>
                                    <div *ngSwitchCase="1" style=" width:60px; height: 60px; text-align: center; padding-top: 5px; margin: 0 auto; background: linear-gradient(white,#ababab); border-radius: 55px"><img width="50px" src={{participant.avatar}} style="margin: 0 auto;border-radius: 50%" alt="user avatar"></div>
                                    <div *ngSwitchCase="2" style=" width:60px; height: 60px; text-align: center; padding-top: 5px; margin: 0 auto; background: linear-gradient(#facfa3,#d77c44); border-radius: 55px"><img width="50px" src={{participant.avatar}} style="margin: 0 auto;border-radius: 50%" alt="user avatar"></div>
                                    <div *ngSwitchDefault style="text-align: center; margin: 0 auto;"> <img width="50px" src={{participant.avatar}} style="margin: 0 auto;border-radius: 50%" alt="user avatar"></div>
                                </a>
                            </td>
                            <td [ngSwitch]="participant.checked" style="text-align: center">
                                <div *ngSwitchCase="1" class="font-weight-bold text-success mb-1" style="font-size: 0.7rem;">已打卡</div>
                                <div *ngSwitchCase="0" class="font-weight-bold text-warning mb-1" style="font-size: 0.7rem;">缺卡</div>
                                <div *ngSwitchCase="-1" class="font-weight-bold text-danger mb-1" style="font-size: 0.7rem;">尚未检查</div>
                            </td>
                            <!-- <td ng-switch-when="0" style="text-align: center">
                                <div class="text-xs font-weight-bold text-warning text-uppercase mb-1">缺卡</div>
                            </td>
                            <td ng-switch-when="-1" style="text-align: center">
                                <div class="text-xs font-weight-bold text-danger text-uppercase mb-1">尚未检查</div>
                            </td> -->
    <!--                        <td style="text-align: center">{{participant.solvedProblemNumberOfToday}}</td>-->
                            <td style="text-align: center">{{participant.checkedTime}}</td>
                            <td style="text-align: center">{{participant.totalChecked}}</td>
                            <!--<td>-->
                            <!--<div ng-class="{HeartAnimation:true, 'like_active':liked }"-->
                            <!--ng-init="upvoteNumber = participant.upvoteNumber; liked = false"-->
                            <!--ng-click="liked = !liked; upvote(participant.username, upvoteNumber,$index)"></div>-->
                            <!--{{upvoteNumber}}-->
                            <!--</td>-->
                            <td ng-init="upvoteNumber = participant.upvoteNumber ;participant.isDisabled = false" style="text-align: center">
                                <button ng-disabled="{{isDisabled}}" class="fas fa-thumbs-up"
                                        ng-click="participant.isDisabled ||upvote(participant.username, upvoteNumber,$index);participant.isDisabled ||( upvoteNumber = upvoteNumber+ 1); participant.isDisabled = true;
                                    "></button>
                                <span id="upvote_{{$index}}">{{upvoteNumber}}</span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>
